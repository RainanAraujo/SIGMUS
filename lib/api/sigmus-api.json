{"definitions":{"entitys.ColaboradorUpdate":{"properties":{"atualizado_em":{"type":"integer"},"funcao":{"type":"string"},"nome":{"type":"string"},"status":{"type":"integer"}},"type":"object"},"entitys.CondutaGenericaUpdate":{"properties":{"atualizado_em":{"type":"integer"},"conduta":{"type":"string"},"data":{"type":"string"},"medicoId":{"type":"integer"},"pacienteId":{"type":"integer"},"status":{"type":"integer"}},"type":"object"},"entitys.CondutaUpdate":{"properties":{"atualizado_em":{"type":"integer"},"dados":{"additionalProperties":true,"type":"object"},"data":{"type":"string"},"medicoId":{"type":"integer"},"pacienteId":{"type":"integer"},"status":{"type":"integer"},"tipo":{"type":"string"}},"type":"object"},"entitys.ErrorMessage":{"properties":{"error":{"type":"string"},"messagem":{"type":"string"}},"type":"object"},"entitys.MedicoUpdate":{"properties":{"atualizado_em":{"type":"integer"},"crm":{"type":"string"},"nome":{"type":"string"},"status":{"type":"integer"}},"type":"object"},"entitys.MutiraoData":{"properties":{"atualizado_em":{"type":"integer"},"contratante":{"type":"string"},"data_final":{"type":"string"},"data_inicio":{"type":"string"},"demandante":{"type":"string"},"estado":{"type":"string"},"id":{"type":"integer"},"local":{"type":"string"},"municipio":{"type":"string"},"permissoes":{"additionalProperties":{"items":{"$ref":"#/definitions/entitys.Permissao"},"type":"array"},"type":"object"},"status":{"type":"integer"},"tipo":{"type":"string"}},"type":"object"},"entitys.MutiraoMudancas":{"properties":{"colaboradores":{"additionalProperties":{"$ref":"#/definitions/entitys.ColaboradorUpdate"},"type":"object"},"condutas":{"additionalProperties":{"$ref":"#/definitions/entitys.CondutaUpdate"},"type":"object"},"condutasGenericas":{"additionalProperties":{"$ref":"#/definitions/entitys.CondutaGenericaUpdate"},"type":"object"},"medicos":{"additionalProperties":{"$ref":"#/definitions/entitys.MedicoUpdate"},"type":"object"},"mutiraoCondutas":{"items":{"type":"string"},"type":"array"},"pacientes":{"additionalProperties":{"$ref":"#/definitions/entitys.PacienteUpdate"},"type":"object"},"procedimentos":{"additionalProperties":{"$ref":"#/definitions/entitys.ProcedimentoUpdate"},"type":"object"}},"type":"object"},"entitys.PacienteUpdate":{"properties":{"atualizado_em":{"type":"integer"},"cns":{"type":"string"},"cpf":{"type":"string"},"dataNascimento":{"type":"string"},"endereco":{"type":"string"},"municipio":{"type":"string"},"nome":{"type":"string"},"nomeDaMae":{"type":"string"},"status":{"type":"integer"},"tel":{"type":"string"},"uf":{"type":"string"}},"type":"object"},"entitys.Permissao":{"enum":["leitura","escrita","edicao"],"type":"string","x-enum-varnames":["PermissaoLeitura","PermissaoEscrita","PermissaoEdicao"]},"entitys.PersonData":{"properties":{"cns":{"type":"string"},"cpf":{"type":"string"},"dataNascimento":{"type":"string"},"endereco":{"type":"string"},"nome":{"type":"string"},"nomeMae":{"type":"string"},"tel":{"type":"string"}},"type":"object"},"entitys.ProcedimentoUpdate":{"properties":{"atualizado_em":{"type":"integer"},"data":{"type":"string"},"dioptriaLente":{"type":"string"},"intercorrencia":{"type":"string"},"medicoId":{"type":"integer"},"observacao":{"type":"string"},"olho":{"type":"string"},"pacienteId":{"type":"integer"},"status":{"type":"integer"},"tipo":{"type":"string"}},"type":"object"},"handlers.DelUserRes":{"properties":{"messagem":{"type":"string"}},"type":"object"},"handlers.GetAtualizarTokenRes":{"properties":{"expires_in":{"example":86400000,"type":"integer"},"messagem":{"example":"Sucesso","type":"string"},"token":{"example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","type":"string"}},"type":"object"},"handlers.GetMutiraoMudancasRes":{"properties":{"messagem":{"type":"string"},"mudancas":{"$ref":"#/definitions/entitys.MutiraoMudancas"},"mutirao":{"$ref":"#/definitions/entitys.MutiraoData"},"timestamp":{"type":"integer"}},"type":"object"},"handlers.GetUsuarioMutiroesRes":{"properties":{"messagem":{"type":"string"},"mutiroes":{"items":{"$ref":"#/definitions/handlers.MutiraoInfo"},"type":"array"}},"type":"object"},"handlers.MutiraoInfo":{"properties":{"atualizado_em":{"type":"integer"},"contratante":{"type":"string"},"data_final":{"type":"string"},"data_inicio":{"type":"string"},"demandante":{"type":"string"},"estado":{"type":"string"},"id":{"type":"integer"},"local":{"type":"string"},"municipio":{"type":"string"},"permissoes":{"additionalProperties":{"items":{"$ref":"#/definitions/entitys.Permissao"},"type":"array"},"type":"object"},"status":{"type":"integer"},"tipo":{"type":"string"},"ultima_mudanca":{"type":"integer"}},"type":"object"},"handlers.PostEntrarReq":{"properties":{"email":{"type":"string"},"senha":{"type":"string"}},"type":"object"},"handlers.PostEntrarRes":{"properties":{"expires_in":{"example":86400000,"type":"integer"},"messagem":{"example":"Sucesso","type":"string"},"token":{"example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","type":"string"}},"type":"object"},"handlers.PostMutiraoMudancasReq":{"properties":{"colaboradores":{"additionalProperties":{"$ref":"#/definitions/entitys.ColaboradorUpdate"},"type":"object"},"condutas":{"additionalProperties":{"$ref":"#/definitions/entitys.CondutaUpdate"},"type":"object"},"condutasGenericas":{"additionalProperties":{"$ref":"#/definitions/entitys.CondutaGenericaUpdate"},"type":"object"},"medicos":{"additionalProperties":{"$ref":"#/definitions/entitys.MedicoUpdate"},"type":"object"},"mutirao":{"$ref":"#/definitions/entitys.MutiraoData"},"mutiraoCondutas":{"items":{"type":"string"},"type":"array"},"pacientes":{"additionalProperties":{"$ref":"#/definitions/entitys.PacienteUpdate"},"type":"object"},"procedimentos":{"additionalProperties":{"$ref":"#/definitions/entitys.ProcedimentoUpdate"},"type":"object"}},"type":"object"},"handlers.PostMutiraoMudancasRes":{"properties":{"messagem":{"type":"string"},"timestamp":{"type":"integer"}},"type":"object"},"handlers.PostRegistarReq":{"properties":{"email":{"type":"string"},"nome":{"type":"string"},"senha":{"type":"string"}},"type":"object"},"handlers.PostRegistarRes":{"properties":{"messagem":{"type":"string"},"usuarioID":{"type":"integer"}},"type":"object"},"handlers.PutMutiraoPermissoesReq":{"additionalProperties":{"items":{"$ref":"#/definitions/entitys.Permissao"},"type":"array"},"type":"object"},"handlers.PutMutiraoPermissoesRes":{"properties":{"messagem":{"type":"string"},"timestamp":{"type":"integer"}},"type":"object"},"handlers.SafeUsuario":{"properties":{"email":{"type":"string"},"id":{"type":"integer"},"nome":{"type":"string"}},"type":"object"}},"info":{"contact":{},"description":"Servidor do projeto SIGMUS","title":"SIGMUS API","version":"1.0"},"paths":{"/atualizar-token":{"get":{"consumes":["application/json"],"description":"Autentica um usuário e retorna um token JWT atualizado, se bem-sucedido.","operationId":"GetAtualizarToken","produces":["application/json"],"responses":{"200":{"description":"Token atualizado com sucesso","schema":{"$ref":"#/definitions/handlers.GetAtualizarTokenRes"}},"400":{"description":"Dados da requisição inválidos","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"401":{"description":"Credenciais inválidas","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"404":{"description":"Usuário não encontrado","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"500":{"description":"Erro interno do servidor","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}}},"summary":"Atualizar token do usuário","tags":["Autenticação"]}},"/buscar/cns/{cns}":{"get":{"consumes":["application/json"],"description":"Busca os dados de uma pessoa utilizando o CNS (Cartão Nacional de Saúde)","operationId":"GetBuscarCNS","parameters":[{"description":"CNS da pessoa","in":"path","name":"cns","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"Dados da pessoa encontrados com sucesso","schema":{"$ref":"#/definitions/entitys.PersonData"}},"400":{"description":"CNS inválido","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"500":{"description":"Erro ao buscar dados da pessoa","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}}},"summary":"Buscar dados da pessoa pelo CNS","tags":["Busca"]}},"/buscar/cpf/{cpf}":{"get":{"consumes":["application/json"],"description":"Busca os dados de uma pessoa utilizando o CPF (Cadastro de Pessoas Físicas)","operationId":"GetBuscarCPF","parameters":[{"description":"CPF da pessoa","in":"path","name":"cpf","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"Dados da pessoa encontrados com sucesso","schema":{"$ref":"#/definitions/entitys.PersonData"}},"400":{"description":"CPF inválido","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"500":{"description":"Erro ao buscar dados da pessoa","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}}},"summary":"Buscar dados da pessoa pelo CPF","tags":["Busca"]}},"/entrar":{"post":{"consumes":["application/json"],"description":"Autentica um usuário e retorna um token JWT se bem-sucedido","operationId":"PostEntrar","parameters":[{"description":"Email e senha do usuário","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/handlers.PostEntrarReq"}}],"produces":["application/json"],"responses":{"200":{"description":"Login efetuado com sucesso","schema":{"$ref":"#/definitions/handlers.PostEntrarRes"}},"400":{"description":"Dados da requisição inválidos","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"401":{"description":"Credenciais inválidas","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"404":{"description":"Usuário não encontrado","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"500":{"description":"Erro interno do servidor","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}}},"summary":"Login de usuário","tags":["Autenticação"]}},"/mutirao/{mutiraoID}/mudancas":{"get":{"consumes":["application/json"],"description":"Retorna as edições de um mutirão específico após uma data fornecida.","operationId":"GetMutiraoMudancas","parameters":[{"description":"ID do Mutirão","in":"path","name":"mutiraoID","required":true,"type":"integer"},{"description":"Timestamp após o qual as edições devem ser retornadas","in":"query","name":"depoisDe","type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"Operações encontradas com sucesso","schema":{"$ref":"#/definitions/handlers.GetMutiraoMudancasRes"}},"400":{"description":"Parametros invalidos","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"404":{"description":"Mutirão não encontrado","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"500":{"description":"Erro ao buscar, converter ou mesclar mudanças","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}}},"summary":"Retorna edições de um mutirão","tags":["Sincronização"]},"post":{"consumes":["application/json"],"description":"Salvar mudanças nas Edições do Mutirão pelo ID do Mutirão","operationId":"PostMutiraoMudancas","parameters":[{"description":"ID do Mutirão","in":"path","name":"mutiraoID","required":true,"type":"integer"},{"description":"Mudanças a serem salvas","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/handlers.PostMutiraoMudancasReq"}}],"produces":["application/json"],"responses":{"200":{"description":"Mudanças salvas com sucesso","schema":{"$ref":"#/definitions/handlers.PostMutiraoMudancasRes"}},"400":{"description":"MutiraoID inválido ou Dados inválidos","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"404":{"description":"Não foi possivel salvar as mudanças","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"500":{"description":"Erro interno do servidor","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}}},"security":[{"BearerAuth":[]}],"summary":"Salvar mudanças nas Edições do Mutirão","tags":["Sincronização"]}},"/mutirao/{mutiraoID}/permissoes":{"put":{"consumes":["application/json"],"description":"Atualiza as permissões associadas a um Mutirão específico pelo seu ID.","operationId":"PutMutiraoPermissoes","parameters":[{"description":"ID do Mutirão","in":"path","name":"mutiraoID","required":true,"type":"integer"},{"description":"Permissões a serem atualizadas","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/handlers.PutMutiraoPermissoesReq"}}],"produces":["application/json"],"responses":{"200":{"description":"Permissões atualizadas com sucesso","schema":{"$ref":"#/definitions/handlers.PutMutiraoPermissoesRes"}},"400":{"description":"MutiraoID inválido ou dados inválidos","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"404":{"description":"Mutirão não encontrado ou não foi possível salvar as alterações","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"500":{"description":"Erro interno do servidor","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}}},"security":[{"BearerAuth":[]}],"summary":"Atualizar permissões de um Mutirão","tags":["Sincronização"]}},"/registrar":{"post":{"consumes":["application/json"],"description":"Cria um novo usuário com email e senha fornecidos ou atualiza se o email já existir","operationId":"PostRegistrar","parameters":[{"description":"Dados do novo usuário","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/handlers.PostRegistarReq"}}],"produces":["application/json"],"responses":{"200":{"description":"Usuário criado ou atualizado com sucesso","schema":{"$ref":"#/definitions/handlers.PostRegistarRes"}},"400":{"description":"Dados inválidos","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"500":{"description":"Erro interno do servidor","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}}},"summary":"Criar ou atualizar usuário","tags":["Usuários"]}},"/usuario/{usuarioID}/mutiroes":{"get":{"consumes":["application/json"],"description":"Retorna uma lista de mutirões que o usuário especificado pode ler","operationId":"GetUsuarioMutiroes","parameters":[{"description":"ID do Usuário","in":"path","name":"usuarioID","required":true,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"Mutirões encontrados com sucesso","schema":{"$ref":"#/definitions/handlers.GetUsuarioMutiroesRes"}},"400":{"description":"UsuarioID inválido","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"500":{"description":"Erro ao buscar mutirões","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}}},"summary":"Busca mutirões legíveis por um usuário","tags":["Sincronização"]}},"/usuarios":{"get":{"consumes":["application/json"],"description":"Retorna uma lista de todos os usuários cadastrados","operationId":"GetUsuarios","produces":["application/json"],"responses":{"200":{"description":"Lista de usuários retornada com sucesso","schema":{"items":{"$ref":"#/definitions/handlers.SafeUsuario"},"type":"array"}},"500":{"description":"Erro interno do servidor","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}}},"summary":"Obter lista de usuários","tags":["Usuários"]}},"/usuarios/{id}":{"delete":{"consumes":["application/json"],"description":"Deleta um usuário baseado no ID fornecido na URL","operationId":"DeleteUsuario","parameters":[{"description":"ID do usuário a ser deletado","format":"int64","in":"path","name":"id","required":true,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"Usuário deletado com sucesso","schema":{"$ref":"#/definitions/handlers.DelUserRes"}},"400":{"description":"ID inválido","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"404":{"description":"Usuário não encontrado","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}},"500":{"description":"Erro interno do servidor","schema":{"$ref":"#/definitions/entitys.ErrorMessage"}}},"summary":"Deletar usuário","tags":["Usuários"]}}},"securityDefinitions":{"BearerAuth":{"in":"header","name":"Authorization","type":"apiKey"}},"servers":[{"description":"Produção","url":"http://145.223.26.57:8080"},{"description":"Desenvolvimento","url":"http://localhost:8080"}],"swagger":"2.0"}